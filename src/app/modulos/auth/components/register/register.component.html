<section class="vh-100" style="background-color: #60baeb;">
  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-lg-10 col-xl-9"> <!-- Reducido el tamaño total -->
        <div class="card text-black" style="border-radius: 25px;">
          <div class="card-body p-md-4"> <!-- Reducido el padding -->
            <div class="row justify-content-center">
              
              <div class="col-md-12 col-lg-8 col-xl-7 order-2 order-lg-1">

                <p class="text-center h3 fw-bold mb-4 mx-1 mx-md-2 mt-3">Registro de Usuario</p> <!-- Título más pequeño -->

                <form class="mx-1 mx-md-2" [formGroup]="registerForm" (ngSubmit)="onSubmit()">

                  <div class="row">
                    <div class="col-6">
                      <div class="form-outline mb-3">
                        <label class="form-label" for="idTipoDocumento">
                          <i class="fas fa-id-card fa-lg me-2 fa-fw"></i>
                          Tipo de Documento
                        </label>
                        <select formControlName="idTipoDocumento" class="form-select form-select-sm" id="idTipoDocumento">
                          <option *ngFor="let tipo of tiposDeDocumentos" [value]="tipo.idTipoDocumento">
                            {{tipo.nombre}}
                          </option>
                        </select>
                        <div *ngIf="registerForm.get('idTipoDocumento')?.errors && registerForm.touched ">
                          <small class="text-danger" *ngIf="registerForm.get('idTipoDocumento')?.hasError('required')"> Campo requerido </small>
                        </div>
                        
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-outline mb-3">
                        <label class="form-label" for="numeroDocumento">
                          <i class="fas fa-file-alt fa-lg me-2 fa-fw"></i>
                          Número de Documento
                        </label>
                        <div class="input-group">
                          <input type="text" formControlName="numeroDocumento" class="form-control form-control-sm" id="numeroDocumento"  placeholder="Ingrese su DNI"/>
                          <button type="button" class="btn btn-outline-secondary btn-sm" (click)="buscarDNI()" [disabled]="buscando">
                            <i class="fas fa-search"></i>
                            <span *ngIf="!buscando"> Buscar</span>
                            <span *ngIf="buscando" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                          </button>
                        </div>
                        <div *ngIf="registerForm.get('numeroDocumento')?.touched && registerForm.get('numeroDocumento')?.errors">
                          <small class="text-danger" *ngIf="registerForm.get('numeroDocumento')?.hasError('required')"> Campo requerido </small>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-6">
                      <div class="form-outline mb-3">
                        <label class="form-label" for="nombre">
                          <i class="fas fa-user fa-lg me-2 fa-fw"></i>
                          Nombre
                        </label>
                        <input type="text" formControlName="nombre" class="form-control form-control-sm" id="nombre"  placeholder="Ingrese su nombre"/>
                        <div *ngIf="registerForm.get('nombre')?.touched && registerForm.get('nombre')?.errors">
                          <small class="text-danger" *ngIf="registerForm.get('nombre')?.hasError('required')"> Campo requerido </small>
                        </div>
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-outline mb-3">
                        <label class="form-label" for="apellidoPaterno">
                          <i class="fas fa-user fa-lg me-2 fa-fw"></i>
                          Apellido Paterno
                        </label>
                        <input type="text" formControlName="apellidoPaterno" class="form-control form-control-sm" id="apellidoPaterno" placeholder="Ingrese su primer apellido" />
                        <div *ngIf="registerForm.get('apellidoPaterno')?.touched && registerForm.get('apellidoPaterno')?.errors">
                          <small class="text-danger" *ngIf="registerForm.get('apellidoPaterno')?.hasError('required')"> Campo requerido </small>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-6">
                      <div class="form-outline mb-3">
                        <label class="form-label" for="apellidoMaterno">
                          <i class="fas fa-user fa-lg me-2 fa-fw"></i>
                          Apellido Materno
                        </label>
                        <input type="text" formControlName="apellidoMaterno" class="form-control form-control-sm" id="apellidoMaterno" placeholder="Ingrese su segundo apellido" />
                        <div *ngIf="registerForm.get('apellidoMaterno')?.touched && registerForm.get('apellidoMaterno')?.errors">
                          <small class="text-danger" *ngIf="registerForm.get('apellidoMaterno')?.hasError('required')"> Campo requerido </small>
                        </div>
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-outline mb-3">
                        <label class="form-label" for="telefono">
                          <i class="fas fa-phone fa-lg me-2 fa-fw"></i>
                          Tel/cel
                        </label>
                        <input type="tel" formControlName="telefono" class="form-control form-control-sm" id="telefono" placeholder="Ingrese su numero de tel/cel"/>
                        <div *ngIf="registerForm.get('telefono')?.touched && registerForm.get('telefono')?.errors">
                          <small class="text-danger" *ngIf="registerForm.get('telefono')?.hasError('required')"> Campo requerido </small>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-6">
                      <div class="form-outline mb-3">
                        <label class="form-label" for="userName">
                          <i class="fas fa-user fa-lg me-2 fa-fw"></i>
                          Nombre de Usuario
                        </label>
                        <input type="text" formControlName="userName" class="form-control form-control-sm" id="userName" placeholder="Ingrese un nombre de usuario"/>
                        <div *ngIf="registerForm.get('userName')?.touched && registerForm.get('userName')?.errors">
                          <small class="text-danger" *ngIf="registerForm.get('userName')?.hasError('required')"> Campo requerido </small>
                        </div>
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-outline mb-3">
                        <label class="form-label" for="email">
                          <i class="fas fa-envelope fa-lg me-2 fa-fw"></i>
                          Correo Electrónico
                        </label>
                        <input type="email" formControlName="email" class="form-control form-control-sm" id="email" placeholder="Ingrese una direccion de correo valida"/>
                        <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors ">
                          <small class="text-danger" *ngIf="registerForm.get('email')?.hasError('required')"> Campo requerido </small>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Modificación del campo contraseña en el HTML -->
                  <div class="form-outline mb-3 col-6">
                    <label class="form-label" for="password">
                      <i class="fas fa-lock fa-lg me-2 fa-fw"></i>
                      Contraseña
                    </label>
                    <div class="input-group">
                      <input [type]="mostrarPassword ? 'text' : 'password'" 
                            formControlName="password" 
                            class="form-control form-control-sm" 
                            id="password" 
                            placeholder="Ingrese una contraseña" />
                      <button type="button" 
                              class="btn btn-outline-secondary btn-sm" 
                              (click)="togglePasswordVisibility()">
                        <i class="fas" 
                          [ngClass]="mostrarPassword ? 'fa-eye-slash' : 'fa-eye'">
                        </i>
                      </button>
                    </div>
                    
                    <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors">
                      <small class="text-danger" *ngIf="registerForm.get('password')?.hasError('required')">
                        Campo requerido
                      </small>
                    </div>
                    
                  </div>

                  <div class="d-flex justify-content-center mb-3">
                    <button type="submit" class="btn btn-primary btn-sm" [disabled]="registerForm.invalid">Registrarse</button> <!-- Botón más pequeño -->
                  </div>

                </form>

              </div>

              <div class="col-md-8 col-lg-4 col-xl-4 d-flex align-items-center order-1 order-lg-2">
                <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp"
                  class="img-fluid" alt="Sample image">
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
